<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta
      name="description"
      content="Sistema completo para planejamento e abertura de empresas no Brasil"
    />
    <meta name="author" content="Empreenda F√°cil" />
    <title>Empreenda F√°cil - Sistema de Abertura de Empresas</title>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- EmailJS -->
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"
    ></script>

    <style>
      /* Reset e Base */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      html {
        font-size: 16px;
        scroll-behavior: smooth;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 10px;
        overflow-x: hidden;
      }

      /* Container Principal */
      .main-container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        overflow: hidden;
      }

      /* Header */
      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        text-align: center;
      }

      .header h1 {
        font-size: clamp(1.5rem, 5vw, 2.5rem);
        margin-bottom: 5px;
        font-weight: 700;
      }

      .header p {
        font-size: clamp(0.9rem, 2.5vw, 1.1rem);
        opacity: 0.95;
      }

      /* Sistema de Abas */
      .tab-nav {
        display: flex;
        background: #f8f9fa;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
      }

      .tab-nav::-webkit-scrollbar {
        height: 4px;
      }

      .tab-nav::-webkit-scrollbar-thumb {
        background: #667eea;
        border-radius: 2px;
      }

      .tab-btn {
        padding: 12px 20px;
        border: none;
        background: none;
        color: #666;
        font-weight: 600;
        cursor: pointer;
        white-space: nowrap;
        transition: all 0.3s;
        border-bottom: 3px solid transparent;
        font-size: clamp(0.85rem, 2vw, 1rem);
        flex-shrink: 0;
      }

      .tab-btn:hover {
        background: #e9ecef;
        color: #333;
      }

      .tab-btn.active {
        color: #667eea;
        background: white;
        border-bottom-color: #667eea;
      }

      /* Conte√∫do das Abas */
      .tab-content {
        display: none;
        padding: 20px;
        animation: fadeIn 0.5s;
      }

      .tab-content.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* T√≠tulos e Se√ß√µes */
      h2 {
        color: #333;
        margin-bottom: 20px;
        font-size: clamp(1.3rem, 3vw, 1.8rem);
        padding-bottom: 10px;
        border-bottom: 2px solid #667eea;
      }

      h3 {
        color: #555;
        margin: 15px 0 10px 0;
        font-size: clamp(1.1rem, 2.5vw, 1.3rem);
      }

      /* Formul√°rios */
      .form-group {
        margin-bottom: 15px;
      }

      .form-group label {
        display: block;
        margin-bottom: 5px;
        color: #555;
        font-weight: 600;
        font-size: clamp(0.9rem, 2vw, 1rem);
      }

      .form-control {
        width: 100%;
        padding: 10px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 16px; /* Previne zoom no iOS */
        transition: all 0.3s;
        -webkit-appearance: none;
      }

      .form-control:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      select.form-control {
        cursor: pointer;
        background: white;
      }

      textarea.form-control {
        min-height: 80px;
        resize: vertical;
      }

      /* Grid Responsivo */
      .grid {
        display: grid;
        gap: 15px;
        margin-bottom: 20px;
      }

      .grid-2 {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      }

      .grid-3 {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      }

      /* Bot√µes */
      .btn {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        font-size: clamp(0.9rem, 2vw, 1rem);
        display: inline-block;
        text-align: center;
        min-width: 120px;
      }

      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      }

      .btn-secondary {
        background: #6c757d;
        color: white;
      }

      .btn-secondary:hover {
        background: #5a6268;
      }

      .btn-success {
        background: #28a745;
        color: white;
      }

      .btn-success:hover {
        background: #218838;
      }

      .btn-danger {
        background: #dc3545;
        color: white;
        padding: 8px 15px;
        font-size: 0.9rem;
      }

      .btn-danger:hover {
        background: #c82333;
      }

      .btn-group {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 20px;
      }

      /* Cards e Resultados */
      .card {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 15px;
        border: 1px solid #e0e0e0;
      }

      .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }

      .card-title {
        font-weight: 600;
        color: #667eea;
        font-size: clamp(1rem, 2.5vw, 1.2rem);
      }

      /* CNAE Search */
      .cnae-search-container {
        position: relative;
      }

      .cnae-suggestions {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        border: 2px solid #667eea;
        border-top: none;
        border-radius: 0 0 8px 8px;
        max-height: 200px;
        overflow-y: auto;
        z-index: 100;
        display: none;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .cnae-suggestions.active {
        display: block;
      }

      .cnae-item {
        padding: 10px;
        cursor: pointer;
        border-bottom: 1px solid #f0f0f0;
        transition: background 0.2s;
        font-size: clamp(0.85rem, 2vw, 0.95rem);
      }

      .cnae-item:hover {
        background: #f0f7ff;
      }

      .cnae-codigo {
        font-weight: bold;
        color: #667eea;
        margin-right: 5px;
      }

      .cnae-selected {
        background: #f0f7ff;
        padding: 10px;
        border-radius: 8px;
        margin-top: 10px;
        border-left: 3px solid #667eea;
      }

      /* Funcion√°rios */
      .funcionario-card {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 15px;
        border-left: 3px solid #667eea;
      }

      /* Resultados */
      .result-card {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 15px;
      }

      .result-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 0;
        border-bottom: 1px solid #dee2e6;
        font-size: clamp(0.9rem, 2vw, 1rem);
      }

      .result-item:last-child {
        border-bottom: none;
      }

      .result-label {
        color: #666;
      }

      .result-value {
        font-weight: bold;
        color: #333;
      }

      .result-total {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        margin: 20px 0;
      }

      .result-total h3 {
        color: white;
        margin-bottom: 10px;
      }

      .result-total .value {
        font-size: clamp(1.5rem, 4vw, 2rem);
        font-weight: bold;
      }

      /* Alertas */
      .alert {
        padding: 12px;
        border-radius: 8px;
        margin-bottom: 15px;
        font-size: clamp(0.9rem, 2vw, 1rem);
      }

      .alert-info {
        background: #cfe2ff;
        color: #084298;
        border: 1px solid #b6d4fe;
      }

      .alert-success {
        background: #d1e7dd;
        color: #0f5132;
        border: 1px solid #badbcc;
      }

      .alert-warning {
        background: #fff3cd;
        color: #664d03;
        border: 1px solid #ffecb5;
      }

      .alert-danger {
        background: #f8d7da;
        color: #842029;
        border: 1px solid #f5c2c7;
      }

      /* Gr√°ficos */
      .chart-container {
        position: relative;
        height: 300px;
        margin: 20px 0;
      }

      /* Loading */
      .loading {
        display: none;
        text-align: center;
        padding: 20px;
      }

      .loading.active {
        display: block;
      }

      .spinner {
        border: 3px solid #f3f3f3;
        border-top: 3px solid #667eea;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: 0 auto;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Mobile Otimiza√ß√µes */
      @media (max-width: 768px) {
        body {
          padding: 5px;
        }

        .main-container {
          border-radius: 10px;
        }

        .header {
          padding: 15px;
        }

        .tab-content {
          padding: 15px;
        }

        .btn-group {
          flex-direction: column;
        }

        .btn {
          width: 100%;
        }

        .grid-2,
        .grid-3 {
          grid-template-columns: 1fr;
        }

        .chart-container {
          height: 250px;
        }
      }

      /* iPhone Notch Safe Area */
      @supports (padding: env(safe-area-inset-top)) {
        .header {
          padding-top: calc(20px + env(safe-area-inset-top));
        }
      }

      /* Print */
      @media print {
        body {
          background: white;
        }

        .main-container {
          box-shadow: none;
        }

        .tab-nav,
        .btn {
          display: none;
        }

        .tab-content {
          display: block !important;
          page-break-after: always;
        }
      }

      /* Acessibilidade */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }

      /* Anima√ß√µes */
      .fade-in {
        animation: fadeIn 0.5s ease-in;
      }

      .slide-up {
        animation: slideUp 0.5s ease-out;
      }

      @keyframes slideUp {
        from {
          transform: translateY(20px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <div class="main-container">
      <!-- Header -->
      <header class="header">
        <h1>üöÄ Empreenda F√°cil</h1>
        <p>Sistema Completo para Abertura de Empresas</p>
      </header>

      <!-- Navega√ß√£o por Abas -->
      <nav class="tab-nav" role="tablist">
        <button class="tab-btn active" onclick="showTab('empresa')" role="tab">
          üìù Empresa
        </button>
        <button class="tab-btn" onclick="showTab('cnae')" role="tab">
          üìã CNAEs
        </button>
        <button class="tab-btn" onclick="showTab('funcionarios')" role="tab">
          üë• Funcion√°rios
        </button>
        <button class="tab-btn" onclick="showTab('custos')" role="tab">
          üí∞ Custos
        </button>
        <button class="tab-btn" onclick="showTab('resultado')" role="tab">
          üìä Resultado
        </button>
        <button class="tab-btn" onclick="showTab('relatorio')" role="tab">
          üìÑ Relat√≥rio
        </button>
      </nav>

      <!-- Tab 1: Dados da Empresa -->
      <div id="empresa" class="tab-content active">
        <h2>Dados da Empresa</h2>

        <div class="form-group">
          <label for="nomeEmpresa">Nome da Empresa *</label>
          <input
            type="text"
            id="nomeEmpresa"
            class="form-control"
            placeholder="Digite o nome da sua empresa"
          />
        </div>

        <div class="grid grid-2">
          <div class="form-group">
            <label for="emailContato">Email para Contato *</label>
            <input
              type="email"
              id="emailContato"
              class="form-control"
              placeholder="seu@email.com"
            />
          </div>

          <div class="form-group">
            <label for="telefone">Telefone *</label>
            <input
              type="tel"
              id="telefone"
              class="form-control"
              placeholder="(11) 99999-9999"
            />
          </div>
        </div>

        <div class="grid grid-3">
          <div class="form-group">
            <label for="capitalInicial">Capital Inicial (R$) *</label>
            <input
              type="number"
              id="capitalInicial"
              class="form-control"
              placeholder="50000"
              value="50000"
            />
          </div>

          <div class="form-group">
            <label for="cidade">Cidade *</label>
            <select
              id="cidade"
              class="form-control"
              onchange="calcularCustos()"
            >
              <option value="">Selecione...</option>
              <option value="sp">S√£o Paulo - SP</option>
              <option value="rj">Rio de Janeiro - RJ</option>
              <option value="mg">Belo Horizonte - MG</option>
              <option value="df">Bras√≠lia - DF</option>
              <option value="pr">Curitiba - PR</option>
              <option value="rs">Porto Alegre - RS</option>
              <option value="ba">Salvador - BA</option>
              <option value="ce">Fortaleza - CE</option>
              <option value="pe">Recife - PE</option>
              <option value="am">Manaus - AM</option>
              <option value="go">Goi√¢nia - GO</option>
              <option value="sc">Florian√≥polis - SC</option>
            </select>
          </div>

          <div class="form-group">
            <label for="numeroSocios">N√∫mero de S√≥cios *</label>
            <input
              type="number"
              id="numeroSocios"
              class="form-control"
              value="1"
              min="1"
            />
          </div>
        </div>

        <div class="form-group">
          <label for="ramoAtividade">Ramo de Atividade *</label>
          <select
            id="ramoAtividade"
            class="form-control"
            onchange="sugerirCNAEs()"
          >
            <option value="">Selecione o ramo...</option>
            <option value="alimentacao">Alimenta√ß√£o e Bebidas</option>
            <option value="comercio">Com√©rcio Varejista</option>
            <option value="servicos">Presta√ß√£o de Servi√ßos</option>
            <option value="tecnologia">Tecnologia e Inform√°tica</option>
            <option value="saude">Sa√∫de e Bem-estar</option>
            <option value="educacao">Educa√ß√£o e Treinamento</option>
            <option value="industria">Ind√∫stria e Manufatura</option>
            <option value="construcao">Constru√ß√£o Civil</option>
            <option value="transporte">Transporte e Log√≠stica</option>
            <option value="consultoria">Consultoria e Assessoria</option>
            <option value="imobiliario">Mercado Imobili√°rio</option>
            <option value="turismo">Turismo e Hotelaria</option>
            <option value="moda">Moda e Vestu√°rio</option>
            <option value="beleza">Beleza e Est√©tica</option>
            <option value="pet">Pet e Veterin√°ria</option>
            <option value="automotivo">Servi√ßos Automotivos</option>
          </select>
        </div>

        <div class="btn-group">
          <button class="btn btn-primary" onclick="showTab('cnae')">
            Pr√≥ximo: CNAEs ‚Üí
          </button>
        </div>
      </div>

      <!-- Tab 2: CNAEs -->
      <div id="cnae" class="tab-content">
        <h2>Classifica√ß√£o Nacional de Atividades Econ√¥micas</h2>

        <div class="alert alert-info">
          <strong>‚ÑπÔ∏è Importante:</strong> O CNAE define as atividades que sua
          empresa pode exercer.
        </div>

        <div class="form-group">
          <label for="buscaCnaePrincipal">CNAE Principal *</label>
          <div class="cnae-search-container">
            <input
              type="text"
              id="buscaCnaePrincipal"
              class="form-control"
              placeholder="Digite palavras-chave (ex: restaurante, consultoria, loja)"
              onkeyup="buscarCNAE('principal')"
            />
            <div id="sugestoesPrincipal" class="cnae-suggestions"></div>
          </div>
          <div id="cnaePrincipalSelecionado"></div>
        </div>

        <h3>CNAEs Secund√°rios (opcional)</h3>
        <button class="btn btn-secondary" onclick="adicionarCNAESecundario()">
          + Adicionar CNAE Secund√°rio
        </button>
        <div id="cnaesSecundarios"></div>

        <div class="btn-group">
          <button class="btn btn-secondary" onclick="showTab('empresa')">
            ‚Üê Voltar
          </button>
          <button class="btn btn-primary" onclick="showTab('funcionarios')">
            Pr√≥ximo: Funcion√°rios ‚Üí
          </button>
        </div>
      </div>

      <!-- Tab 3: Funcion√°rios -->
      <div id="funcionarios" class="tab-content">
        <h2>Quadro de Funcion√°rios</h2>

        <div class="alert alert-info">
          O sistema calcula automaticamente todos os encargos trabalhistas.
        </div>

        <div class="form-group">
          <label for="qtdFuncionarios"
            >Quantos funcion√°rios voc√™ pretende contratar?</label
          >
          <input
            type="number"
            id="qtdFuncionarios"
            class="form-control"
            value="0"
            min="0"
            onchange="gerarCamposFuncionarios()"
          />
        </div>

        <div id="listaFuncionarios"></div>

        <div class="btn-group">
          <button class="btn btn-secondary" onclick="showTab('cnae')">
            ‚Üê Voltar
          </button>
          <button class="btn btn-primary" onclick="showTab('custos')">
            Pr√≥ximo: Custos ‚Üí
          </button>
        </div>
      </div>

      <!-- Tab 4: Custos -->
      <div id="custos" class="tab-content">
        <h2>Custos de Abertura e Operacionais</h2>

        <div class="result-card">
          <h3>üìÑ Custos de Abertura</h3>
          <div class="result-item">
            <span class="result-label">Registro na Junta Comercial:</span>
            <span class="result-value" id="custoJunta">R$ 0,00</span>
          </div>
          <div class="result-item">
            <span class="result-label">Alvar√° de Funcionamento:</span>
            <span class="result-value" id="custoAlvara">R$ 0,00</span>
          </div>
          <div class="result-item">
            <span class="result-label">Certificado Digital:</span>
            <span class="result-value" id="custoCertificado">R$ 0,00</span>
          </div>
          <div class="result-item">
            <span class="result-label">Honor√°rios Contador (abertura):</span>
            <span class="result-value" id="custoContador">R$ 0,00</span>
          </div>
          <div class="result-item">
            <span class="result-label"><strong>Total Abertura:</strong></span>
            <span class="result-value"
              ><strong id="totalAbertura">R$ 0,00</strong></span
            >
          </div>
        </div>

        <div class="result-card">
          <h3>üíº Custos Operacionais Mensais</h3>
          <div class="result-item">
            <span class="result-label">Folha de Pagamento:</span>
            <span class="result-value" id="custoFolha">R$ 0,00</span>
          </div>
          <div class="result-item">
            <span class="result-label">Aluguel:</span>
            <span class="result-value" id="custoAluguel">R$ 0,00</span>
          </div>
          <div class="result-item">
            <span class="result-label">Energia/√Ågua/Internet:</span>
            <span class="result-value" id="custoUtilidades">R$ 0,00</span>
          </div>
          <div class="result-item">
            <span class="result-label">Contador (mensal):</span>
            <span class="result-value" id="custoContadorMensal">R$ 0,00</span>
          </div>
          <div class="result-item">
            <span class="result-label"><strong>Total Mensal:</strong></span>
            <span class="result-value"
              ><strong id="totalMensal">R$ 0,00</strong></span
            >
          </div>
        </div>

        <div class="btn-group">
          <button class="btn btn-secondary" onclick="showTab('funcionarios')">
            ‚Üê Voltar
          </button>
          <button class="btn btn-primary" onclick="calcularResultados()">
            Calcular Resultado ‚Üí
          </button>
        </div>
      </div>

      <!-- Tab 5: Resultado -->
      <div id="resultado" class="tab-content">
        <h2>An√°lise Completa do Investimento</h2>

        <div id="analiseViabilidade"></div>

        <div class="result-total">
          <h3>üíµ Investimento Total Necess√°rio</h3>
          <div class="value" id="investimentoTotal">R$ 0,00</div>
          <p id="statusCapital"></p>
        </div>

        <div class="chart-container">
          <canvas id="chartCustos"></canvas>
        </div>

        <div class="chart-container">
          <canvas id="chartProjecao"></canvas>
        </div>

        <div class="btn-group">
          <button class="btn btn-secondary" onclick="showTab('custos')">
            ‚Üê Voltar
          </button>
          <button class="btn btn-primary" onclick="showTab('relatorio')">
            Gerar Relat√≥rio ‚Üí
          </button>
        </div>
      </div>

      <!-- Tab 6: Relat√≥rio -->
      <div id="relatorio" class="tab-content">
        <h2>Relat√≥rio Final e Envio por Email</h2>

        <div class="form-group">
          <label for="emailRelatorio">Email para envio do relat√≥rio:</label>
          <input
            type="email"
            id="emailRelatorio"
            class="form-control"
            placeholder="Digite seu email"
          />
        </div>

        <button class="btn btn-success" onclick="enviarRelatorio()">
          üìß Enviar Relat√≥rio por Email
        </button>

        <div id="statusEnvio"></div>

        <div class="result-card" style="margin-top: 20px">
          <h3>üìã Resumo do Planejamento</h3>
          <div id="resumoCompleto"></div>
        </div>

        <button class="btn btn-primary" onclick="window.print()">
          üñ®Ô∏è Imprimir Relat√≥rio
        </button>
      </div>
    </div>

    <script>
      // Inicializa√ß√£o do EmailJS
      emailjs.init('YOUR_PUBLIC_KEY'); // Substitua com sua chave p√∫blica do EmailJS

      // Estado da aplica√ß√£o
      let estado = {
        empresa: {},
        cnaePrincipal: null,
        cnaesSecundarios: [],
        funcionarios: [],
        custos: {},
        graficos: {},
      };

      // Base de CNAEs (vers√£o reduzida - adicione mais conforme necess√°rio)
      const cnaes = [
        // ALIMENTA√á√ÉO
        {
          codigo: '56.11-2/01',
          descricao: 'Restaurantes e similares',
          palavras: 'restaurante comida almo√ßo jantar refei√ß√£o',
        },
        {
          codigo: '56.11-2/03',
          descricao: 'Lanchonetes, casas de ch√°, de sucos',
          palavras: 'lanchonete lanche caf√© suco ch√°',
        },
        {
          codigo: '56.11-2/05',
          descricao: 'Bares e outros estabelecimentos',
          palavras: 'bar bebida cerveja boteco pub',
        },
        {
          codigo: '56.20-1/01',
          descricao: 'Fornecimento de alimentos preparados',
          palavras: 'marmita quentinha catering buffet',
        },
        {
          codigo: '56.20-1/02',
          descricao: 'Servi√ßos de alimenta√ß√£o para eventos',
          palavras: 'buffet festa evento catering',
        },
        {
          codigo: '10.91-1/02',
          descricao: 'Fabrica√ß√£o de produtos de padaria',
          palavras: 'padaria p√£o bolo confeitaria',
        },
        {
          codigo: '10.92-9/00',
          descricao: 'Fabrica√ß√£o de biscoitos e bolachas',
          palavras: 'biscoito bolacha fabrica√ß√£o',
        },
        {
          codigo: '47.21-1/02',
          descricao: 'Padaria e confeitaria com revenda',
          palavras: 'padaria confeitaria p√£o doce',
        },
        {
          codigo: '47.22-9/01',
          descricao: 'Com√©rcio varejista de carnes - a√ßougues',
          palavras: 'a√ßougue carne bovina su√≠na frango',
        },
        {
          codigo: '47.24-5/00',
          descricao: 'Com√©rcio varejista de hortifrutigranjeiros',
          palavras: 'hortifruti verdura fruta legume',
        },

        // COM√âRCIO VAREJISTA
        {
          codigo: '47.11-3/02',
          descricao: 'Com√©rcio varejista - supermercados',
          palavras: 'supermercado mercado minimercado',
        },
        {
          codigo: '47.12-1/00',
          descricao: 'Com√©rcio varejista - minimercados',
          palavras: 'mercadinho mercearia conveni√™ncia',
        },
        {
          codigo: '47.13-0/02',
          descricao: 'Lojas de variedades',
          palavras: 'loja variedade utilidade bazar',
        },
        {
          codigo: '47.81-4/00',
          descricao: 'Com√©rcio varejista de vestu√°rio',
          palavras: 'roupa vestu√°rio moda loja boutique',
        },
        {
          codigo: '47.82-2/01',
          descricao: 'Com√©rcio varejista de cal√ßados',
          palavras: 'sapato cal√ßado t√™nis sand√°lia loja',
        },
        {
          codigo: '47.83-1/01',
          descricao: 'Com√©rcio varejista de joias',
          palavras: 'joia joalheria ouro prata bijuteria',
        },
        {
          codigo: '47.51-2/01',
          descricao: 'Com√©rcio de equipamentos de inform√°tica',
          palavras: 'computador notebook inform√°tica eletr√¥nico',
        },
        {
          codigo: '47.53-9/00',
          descricao: 'Com√©rcio de eletrodom√©sticos',
          palavras: 'eletrodom√©stico geladeira fog√£o tv',
        },
        {
          codigo: '47.54-7/01',
          descricao: 'Com√©rcio varejista de m√≥veis',
          palavras: 'm√≥vel mob√≠lia sof√° cama mesa',
        },
        {
          codigo: '47.55-5/01',
          descricao: 'Com√©rcio varejista de tecidos',
          palavras: 'tecido pano loja armarinho',
        },
        {
          codigo: '47.61-0/01',
          descricao: 'Com√©rcio varejista de livros',
          palavras: 'livro livraria revista jornal',
        },
        {
          codigo: '47.61-0/03',
          descricao: 'Com√©rcio varejista de papelaria',
          palavras: 'papelaria material escolar escrit√≥rio',
        },
        {
          codigo: '47.71-7/01',
          descricao: 'Farm√°cia sem manipula√ß√£o',
          palavras: 'farm√°cia drogaria rem√©dio medicamento',
        },
        {
          codigo: '47.72-5/00',
          descricao: 'Com√©rcio de cosm√©ticos e perfumaria',
          palavras: 'cosm√©tico perfume maquiagem beleza',
        },
        {
          codigo: '47.89-0/02',
          descricao: 'Com√©rcio de plantas e flores',
          palavras: 'floricultura planta flor jardim vaso',
        },
        {
          codigo: '47.89-0/04',
          descricao: 'Com√©rcio de animais vivos',
          palavras: 'pet shop animal cachorro gato p√°ssaro',
        },

        // PRESTA√á√ÉO DE SERVI√áOS
        {
          codigo: '96.02-5/01',
          descricao: 'Cabeleireiros e manicure',
          palavras: 'sal√£o beleza cabeleireiro manicure pedicure',
        },
        {
          codigo: '96.02-5/02',
          descricao: 'Atividades de est√©tica',
          palavras: 'est√©tica spa cl√≠nica beleza tratamento',
        },
        {
          codigo: '96.03-3/02',
          descricao: 'Servi√ßos de crema√ß√£o',
          palavras: 'funer√°ria crema√ß√£o funeral',
        },
        {
          codigo: '96.09-2/02',
          descricao: 'Ag√™ncias matrimoniais',
          palavras: 'ag√™ncia matrimonial casamento encontro',
        },
        {
          codigo: '96.09-2/08',
          descricao: 'Higiene e embelezamento de animais',
          palavras: 'pet banho tosa veterin√°rio animal',
        },
        {
          codigo: '95.11-8/00',
          descricao: 'Repara√ß√£o de computadores',
          palavras: 'assist√™ncia t√©cnica computador notebook conserto',
        },
        {
          codigo: '95.12-6/00',
          descricao: 'Repara√ß√£o de equipamentos',
          palavras: 'conserto manuten√ß√£o eletr√¥nico celular',
        },
        {
          codigo: '95.21-5/00',
          descricao: 'Repara√ß√£o de eletr√¥nicos',
          palavras: 'assist√™ncia tv som eletr√¥nico conserto',
        },
        {
          codigo: '95.29-1/99',
          descricao: 'Repara√ß√£o de outros objetos',
          palavras: 'conserto manuten√ß√£o repara√ß√£o diversos',
        },
        {
          codigo: '82.11-3/00',
          descricao: 'Servi√ßos de escrit√≥rio',
          palavras: 'escrit√≥rio administrativo secretaria apoio',
        },
        {
          codigo: '82.19-9/99',
          descricao: 'Prepara√ß√£o de documentos',
          palavras: 'documento fotoc√≥pia digitaliza√ß√£o servi√ßo',
        },
        {
          codigo: '82.99-7/99',
          descricao: 'Outras atividades de servi√ßos',
          palavras: 'servi√ßo presta√ß√£o diversos apoio',
        },

        // TECNOLOGIA E INFORM√ÅTICA
        {
          codigo: '62.01-5/01',
          descricao: 'Desenvolvimento de software',
          palavras: 'software desenvolvimento programa√ß√£o sistema',
        },
        {
          codigo: '62.01-5/02',
          descricao: 'Web design',
          palavras: 'site web design internet cria√ß√£o desenvolvimento',
        },
        {
          codigo: '62.02-3/00',
          descricao: 'Software customiz√°vel',
          palavras: 'software sistema customiza√ß√£o personaliza√ß√£o',
        },
        {
          codigo: '62.03-1/00',
          descricao: 'Software n√£o customiz√°vel',
          palavras: 'software programa aplicativo app',
        },
        {
          codigo: '62.04-0/00',
          descricao: 'Consultoria em TI',
          palavras: 'consultoria tecnologia inform√°tica ti sistema',
        },
        {
          codigo: '62.09-1/00',
          descricao: 'Suporte t√©cnico',
          palavras: 'suporte t√©cnico ti manuten√ß√£o sistema',
        },
        {
          codigo: '63.11-9/00',
          descricao: 'Tratamento de dados',
          palavras: 'dados processamento datacenter servidor',
        },
        {
          codigo: '63.19-4/00',
          descricao: 'Portais e conte√∫do na internet',
          palavras: 'portal site conte√∫do internet blog',
        },

        // EDUCA√á√ÉO E TREINAMENTO
        {
          codigo: '85.11-2/00',
          descricao: 'Educa√ß√£o infantil - creche',
          palavras: 'creche infantil beb√™ crian√ßa educa√ß√£o',
        },
        {
          codigo: '85.12-1/00',
          descricao: 'Educa√ß√£o infantil - pr√©-escola',
          palavras: 'pr√©-escola infantil crian√ßa educa√ß√£o jardim',
        },
        {
          codigo: '85.13-9/00',
          descricao: 'Ensino fundamental',
          palavras: 'escola fundamental educa√ß√£o ensino prim√°rio',
        },
        {
          codigo: '85.20-1/00',
          descricao: 'Ensino m√©dio',
          palavras: 'ensino m√©dio col√©gio escola secund√°rio',
        },
        {
          codigo: '85.31-7/00',
          descricao: 'Educa√ß√£o superior - gradua√ß√£o',
          palavras: 'faculdade universidade gradua√ß√£o ensino superior',
        },
        {
          codigo: '85.32-5/00',
          descricao: 'Educa√ß√£o superior - p√≥s-gradua√ß√£o',
          palavras: 'p√≥s-gradua√ß√£o mestrado doutorado especializa√ß√£o',
        },
        {
          codigo: '85.41-4/00',
          descricao: 'Educa√ß√£o profissional t√©cnica',
          palavras: 'curso t√©cnico profissionalizante ensino',
        },
        {
          codigo: '85.50-3/01',
          descricao: 'Administra√ß√£o de caixas escolares',
          palavras: 'caixa escolar administra√ß√£o educa√ß√£o',
        },
        {
          codigo: '85.50-3/02',
          descricao: 'Atividades de apoio √† educa√ß√£o',
          palavras: 'apoio educa√ß√£o escolar suporte',
        },
        {
          codigo: '85.91-1/00',
          descricao: 'Ensino de esportes',
          palavras: 'esporte academia nata√ß√£o futebol aula',
        },
        {
          codigo: '85.92-9/01',
          descricao: 'Ensino de dan√ßa',
          palavras: 'dan√ßa ballet aula escola academia',
        },
        {
          codigo: '85.92-9/02',
          descricao: 'Ensino de artes c√™nicas',
          palavras: 'teatro arte c√™nica aula curso',
        },
        {
          codigo: '85.92-9/03',
          descricao: 'Ensino de m√∫sica',
          palavras: 'm√∫sica aula instrumento conservat√≥rio',
        },
        {
          codigo: '85.93-7/00',
          descricao: 'Ensino de idiomas',
          palavras: 'idioma l√≠ngua ingl√™s curso escola',
        },
        {
          codigo: '85.99-6/01',
          descricao: 'Forma√ß√£o de condutores',
          palavras: 'auto escola dire√ß√£o habilita√ß√£o cnh',
        },
        {
          codigo: '85.99-6/03',
          descricao: 'Treinamento em inform√°tica',
          palavras: 'inform√°tica computador curso treinamento',
        },
        {
          codigo: '85.99-6/04',
          descricao: 'Treinamento em desenvolvimento',
          palavras: 'treinamento desenvolvimento profissional curso',
        },
        {
          codigo: '85.99-6/99',
          descricao: 'Outras atividades de ensino',
          palavras: 'ensino curso aula treinamento educa√ß√£o',
        },

        // SA√öDE E BEM-ESTAR
        {
          codigo: '86.10-1/01',
          descricao: 'Hospitais',
          palavras: 'hospital cl√≠nica interna√ß√£o m√©dico',
        },
        {
          codigo: '86.10-1/02',
          descricao: 'Unidades de pronto-socorro',
          palavras: 'pronto socorro emerg√™ncia urg√™ncia hospital',
        },
        {
          codigo: '86.21-6/01',
          descricao: 'Centros de medicina nuclear',
          palavras: 'medicina nuclear exame diagn√≥stico',
        },
        {
          codigo: '86.21-6/02',
          descricao: 'Servi√ßos de tomografia',
          palavras: 'tomografia exame diagn√≥stico imagem',
        },
        {
          codigo: '86.22-4/00',
          descricao: 'Cl√≠nicas e consult√≥rios m√©dicos',
          palavras: 'cl√≠nica m√©dico consult√≥rio doutor',
        },
        {
          codigo: '86.30-5/01',
          descricao: 'Consult√≥rio m√©dico',
          palavras: 'm√©dico consult√≥rio cl√≠nica atendimento',
        },
        {
          codigo: '86.30-5/02',
          descricao: 'Consult√≥rio odontol√≥gico',
          palavras: 'dentista odontologia dente consult√≥rio',
        },
        {
          codigo: '86.30-5/03',
          descricao: 'Cl√≠nica m√©dica',
          palavras: 'cl√≠nica m√©dica sa√∫de atendimento',
        },
        {
          codigo: '86.30-5/04',
          descricao: 'Cl√≠nica odontol√≥gica',
          palavras: 'cl√≠nica dent√°ria odontologia dente',
        },
        {
          codigo: '86.30-5/06',
          descricao: 'Servi√ßos de vacina√ß√£o',
          palavras: 'vacina√ß√£o vacina imuniza√ß√£o cl√≠nica',
        },
        {
          codigo: '86.30-5/07',
          descricao: 'Atividades de reprodu√ß√£o assistida',
          palavras: 'reprodu√ß√£o fertiliza√ß√£o insemina√ß√£o cl√≠nica',
        },
        {
          codigo: '86.40-2/01',
          descricao: 'Laborat√≥rios de an√°lises cl√≠nicas',
          palavras: 'laborat√≥rio exame an√°lise cl√≠nica sangue',
        },
        {
          codigo: '86.40-2/02',
          descricao: 'Laborat√≥rios de anatomia patol√≥gica',
          palavras: 'anatomia patologia laborat√≥rio bi√≥psia',
        },
        {
          codigo: '86.50-0/01',
          descricao: 'Atividades de enfermagem',
          palavras: 'enfermagem enfermeiro cuidado sa√∫de',
        },
        {
          codigo: '86.50-0/02',
          descricao: 'Atividades de fisioterapia',
          palavras: 'fisioterapia fisioterapeuta reabilita√ß√£o',
        },
        {
          codigo: '86.50-0/03',
          descricao: 'Atividades de nutri√ß√£o',
          palavras: 'nutri√ß√£o nutricionista dieta alimenta√ß√£o',
        },
        {
          codigo: '86.50-0/04',
          descricao: 'Atividades de psicologia',
          palavras: 'psicologia psic√≥logo terapia mental',
        },
        {
          codigo: '86.50-0/05',
          descricao: 'Atividades de terapia ocupacional',
          palavras: 'terapia ocupacional terapeuta reabilita√ß√£o',
        },
        {
          codigo: '86.50-0/06',
          descricao: 'Atividades de fonoaudiologia',
          palavras: 'fonoaudiologia fala audi√ß√£o voz',
        },
        {
          codigo: '86.50-0/99',
          descricao: 'Outras atividades de sa√∫de',
          palavras: 'sa√∫de profissional atendimento cl√≠nica',
        },
        {
          codigo: '86.90-9/01',
          descricao: 'Pr√°ticas integrativas',
          palavras: 'acupuntura homeopatia alternativa integrativa',
        },
        {
          codigo: '86.90-9/02',
          descricao: 'Atividades de banco de sangue',
          palavras: 'banco sangue doa√ß√£o hemocentro',
        },
        {
          codigo: '86.90-9/03',
          descricao: 'Servi√ßos de acupuntura',
          palavras: 'acupuntura medicina chinesa terapia',
        },
        {
          codigo: '86.90-9/04',
          descricao: 'Atividades de podologia',
          palavras: 'podologia p√© cuidado sa√∫de',
        },
        {
          codigo: '86.90-9/99',
          descricao: 'Outras atividades de sa√∫de',
          palavras: 'sa√∫de terapia tratamento cuidado',
        },
        {
          codigo: '75.00-1/00',
          descricao: 'Atividades veterin√°rias',
          palavras: 'veterin√°rio animal pet cl√≠nica',
        },

        // CONSTRU√á√ÉO CIVIL
        {
          codigo: '41.10-7/00',
          descricao: 'Incorpora√ß√£o imobili√°ria',
          palavras: 'incorpora√ß√£o imobili√°ria constru√ß√£o empreendimento',
        },
        {
          codigo: '41.20-4/00',
          descricao: 'Constru√ß√£o de edif√≠cios',
          palavras: 'constru√ß√£o pr√©dio edif√≠cio obra civil',
        },
        {
          codigo: '42.11-1/01',
          descricao: 'Constru√ß√£o de rodovias',
          palavras: 'rodovia estrada asfalto pavimenta√ß√£o',
        },
        {
          codigo: '42.13-8/00',
          descricao: 'Obras de urbaniza√ß√£o',
          palavras: 'urbaniza√ß√£o pra√ßa cal√ßada pavimento',
        },
        {
          codigo: '43.11-8/01',
          descricao: 'Demoli√ß√£o de edif√≠cios',
          palavras: 'demoli√ß√£o edif√≠cio pr√©dio derrubada',
        },
        {
          codigo: '43.12-6/00',
          descricao: 'Perfura√ß√µes e sondagens',
          palavras: 'perfura√ß√£o sondagem solo po√ßo',
        },
        {
          codigo: '43.13-4/00',
          descricao: 'Obras de terraplenagem',
          palavras: 'terraplanagem escava√ß√£o aterro movimenta√ß√£o',
        },
        {
          codigo: '43.21-5/00',
          descricao: 'Instala√ß√£o el√©trica',
          palavras: 'el√©trica instala√ß√£o eletricista fia√ß√£o',
        },
        {
          codigo: '43.22-3/01',
          descricao: 'Instala√ß√µes hidr√°ulicas',
          palavras: 'hidr√°ulica encanamento encanador √°gua',
        },
        {
          codigo: '43.22-3/02',
          descricao: 'Instala√ß√£o de ar condicionado',
          palavras: 'ar condicionado instala√ß√£o manuten√ß√£o',
        },
        {
          codigo: '43.30-4/01',
          descricao: 'Impermeabiliza√ß√£o',
          palavras: 'impermeabiliza√ß√£o veda√ß√£o infiltra√ß√£o',
        },
        {
          codigo: '43.30-4/02',
          descricao: 'Instala√ß√£o de portas e janelas',
          palavras: 'porta janela esquadria instala√ß√£o',
        },
        {
          codigo: '43.30-4/03',
          descricao: 'Obras de acabamento em gesso',
          palavras: 'gesso drywall forro moldura',
        },
        {
          codigo: '43.30-4/04',
          descricao: 'Servi√ßos de pintura',
          palavras: 'pintura pintor parede acabamento',
        },
        {
          codigo: '43.30-4/05',
          descricao: 'Aplica√ß√£o de revestimentos',
          palavras: 'revestimento azulejo piso cer√¢mica',
        },
        {
          codigo: '43.99-1/03',
          descricao: 'Obras de alvenaria',
          palavras: 'alvenaria pedreiro tijolo constru√ß√£o',
        },

        // TRANSPORTE E LOG√çSTICA
        {
          codigo: '49.23-0/01',
          descricao: 'Servi√ßo de t√°xi',
          palavras: 't√°xi transporte passageiro motorista',
        },
        {
          codigo: '49.23-0/02',
          descricao: 'Transporte por aplicativo',
          palavras: 'uber 99 aplicativo motorista transporte',
        },
        {
          codigo: '49.24-8/00',
          descricao: 'Transporte escolar',
          palavras: 'transporte escolar van √¥nibus escola',
        },
        {
          codigo: '49.30-2/01',
          descricao: 'Transporte de carga municipal',
          palavras: 'frete caminh√£o carga mudan√ßa transporte',
        },
        {
          codigo: '49.30-2/02',
          descricao: 'Transporte de carga intermunicipal',
          palavras: 'frete caminh√£o carga transporte intermunicipal',
        },
        {
          codigo: '49.30-2/03',
          descricao: 'Transporte de carga interestadual',
          palavras: 'frete caminh√£o carga transporte interestadual',
        },
        {
          codigo: '52.11-7/01',
          descricao: 'Armaz√©ns gerais',
          palavras: 'armaz√©m estoque guarda mercadoria',
        },
        {
          codigo: '52.11-7/99',
          descricao: 'Dep√≥sitos de mercadorias',
          palavras: 'dep√≥sito estoque armazenamento guarda',
        },
        {
          codigo: '52.12-5/00',
          descricao: 'Carga e descarga',
          palavras: 'carga descarga movimenta√ß√£o mercadoria',
        },
        {
          codigo: '52.23-1/00',
          descricao: 'Estacionamento de ve√≠culos',
          palavras: 'estacionamento garagem vaga carro',
        },
        {
          codigo: '52.29-0/01',
          descricao: 'Servi√ßos de apoio ao transporte',
          palavras: 'log√≠stica transporte apoio despachante',
        },
        {
          codigo: '52.29-0/02',
          descricao: 'Servi√ßos de reboque',
          palavras: 'reboque guincho socorro ve√≠culo',
        },
        {
          codigo: '53.10-5/01',
          descricao: 'Correios nacional',
          palavras: 'correio carta encomenda entrega',
        },
        {
          codigo: '53.10-5/02',
          descricao: 'Correios franqueado',
          palavras: 'correio ag√™ncia franquia postal',
        },
        {
          codigo: '53.20-2/01',
          descricao: 'Entrega r√°pida',
          palavras: 'motoboy entrega delivery r√°pida',
        },
        {
          codigo: '53.20-2/02',
          descricao: 'Servi√ßos de entrega',
          palavras: 'entrega encomenda delivery transporte',
        },

        // CONSULTORIA E ASSESSORIA
        {
          codigo: '69.20-6/01',
          descricao: 'Atividades de contabilidade',
          palavras: 'contador contabilidade escrit√≥rio fiscal',
        },
        {
          codigo: '69.20-6/02',
          descricao: 'Atividades de consultoria',
          palavras: 'consultoria tribut√°ria fiscal cont√°bil',
        },
        {
          codigo: '70.20-4/00',
          descricao: 'Consultoria em gest√£o empresarial',
          palavras: 'consultoria gest√£o empresa administra√ß√£o neg√≥cio',
        },
        {
          codigo: '71.11-1/00',
          descricao: 'Servi√ßos de arquitetura',
          palavras: 'arquiteto arquitetura projeto constru√ß√£o',
        },
        {
          codigo: '71.12-0/00',
          descricao: 'Servi√ßos de engenharia',
          palavras: 'engenheiro engenharia projeto t√©cnico',
        },
        {
          codigo: '71.19-7/01',
          descricao: 'Servi√ßos de cartografia',
          palavras: 'cartografia mapa topografia geod√©sia',
        },
        {
          codigo: '71.19-7/03',
          descricao: 'Servi√ßos de per√≠cia t√©cnica',
          palavras: 'per√≠cia t√©cnica laudo avalia√ß√£o',
        },
        {
          codigo: '71.20-1/00',
          descricao: 'Testes e an√°lises t√©cnicas',
          palavras: 'teste an√°lise laborat√≥rio t√©cnico',
        },
        {
          codigo: '72.10-0/00',
          descricao: 'Pesquisa e desenvolvimento',
          palavras: 'pesquisa desenvolvimento p&d ci√™ncia',
        },
        {
          codigo: '73.11-4/00',
          descricao: 'Ag√™ncias de publicidade',
          palavras: 'publicidade propaganda marketing ag√™ncia',
        },
        {
          codigo: '73.12-2/00',
          descricao: 'Agenciamento de espa√ßos',
          palavras: 'agenciamento m√≠dia espa√ßo publicidade',
        },
        {
          codigo: '73.19-0/01',
          descricao: 'Cria√ß√£o de estandes',
          palavras: 'estande feira evento montagem',
        },
        {
          codigo: '73.19-0/02',
          descricao: 'Promo√ß√£o de vendas',
          palavras: 'promo√ß√£o venda marketing merchandising',
        },
        {
          codigo: '73.19-0/03',
          descricao: 'Marketing direto',
          palavras: 'marketing direto mala direta telemarketing',
        },
        {
          codigo: '73.19-0/04',
          descricao: 'Consultoria em publicidade',
          palavras: 'consultoria publicidade marketing comunica√ß√£o',
        },
        {
          codigo: '73.20-3/00',
          descricao: 'Pesquisas de mercado',
          palavras: 'pesquisa mercado opini√£o estat√≠stica',
        },
        {
          codigo: '74.10-2/02',
          descricao: 'Design de interiores',
          palavras: 'design interior decora√ß√£o ambiente projeto',
        },
        {
          codigo: '74.10-2/03',
          descricao: 'Design de produto',
          palavras: 'design produto industrial cria√ß√£o',
        },
        {
          codigo: '74.10-2/99',
          descricao: 'Atividades de design',
          palavras: 'design gr√°fico visual cria√ß√£o arte',
        },
        {
          codigo: '74.20-0/01',
          descricao: 'Atividades de fotografia',
          palavras: 'fotografia fot√≥grafo foto est√∫dio',
        },
        {
          codigo: '74.20-0/04',
          descricao: 'Filmagem de eventos',
          palavras: 'filmagem v√≠deo evento festa casamento',
        },
        {
          codigo: '74.90-1/01',
          descricao: 'Servi√ßos de tradu√ß√£o',
          palavras: 'tradu√ß√£o int√©rprete idioma l√≠ngua',
        },
        {
          codigo: '74.90-1/04',
          descricao: 'Atividades de intermedia√ß√£o',
          palavras: 'intermedia√ß√£o neg√≥cio agenciamento broker',
        },
        {
          codigo: '74.90-1/05',
          descricao: 'Agenciamento de profissionais',
          palavras: 'agenciamento profissional artista modelo',
        },
        {
          codigo: '74.90-1/99',
          descricao: 'Outras atividades profissionais',
          palavras: 'consultoria assessoria profissional servi√ßo',
        },

        // IMOBILI√ÅRIO
        {
          codigo: '68.10-2/01',
          descricao: 'Compra e venda de im√≥veis',
          palavras: 'imobili√°ria im√≥vel casa apartamento venda',
        },
        {
          codigo: '68.10-2/02',
          descricao: 'Aluguel de im√≥veis pr√≥prios',
          palavras: 'aluguel im√≥vel loca√ß√£o propriet√°rio',
        },
        {
          codigo: '68.21-8/01',
          descricao: 'Corretagem de im√≥veis',
          palavras: 'corretor im√≥vel imobili√°ria venda aluguel',
        },
        {
          codigo: '68.21-8/02',
          descricao: 'Corretagem de contratos',
          palavras: 'corretagem contrato compra venda im√≥vel',
        },
        {
          codigo: '68.22-6/00',
          descricao: 'Gest√£o e administra√ß√£o',
          palavras: 'administra√ß√£o condom√≠nio im√≥vel gest√£o',
        },

        // IND√öSTRIA E MANUFATURA
        {
          codigo: '14.12-6/01',
          descricao: 'Confec√ß√£o de pe√ßas do vestu√°rio',
          palavras: 'confec√ß√£o roupa vestu√°rio costura f√°brica',
        },
        {
          codigo: '14.12-6/02',
          descricao: 'Confec√ß√£o sob medida',
          palavras: 'alfaiate costureira sob medida roupa',
        },
        {
          codigo: '14.12-6/03',
          descricao: 'Fac√ß√£o de pe√ßas do vestu√°rio',
          palavras: 'fac√ß√£o costura terceirizada roupa',
        },
        {
          codigo: '15.31-9/01',
          descricao: 'Fabrica√ß√£o de cal√ßados',
          palavras: 'cal√ßado sapato t√™nis f√°brica produ√ß√£o',
        },
        {
          codigo: '16.22-6/02',
          descricao: 'Fabrica√ß√£o de esquadrias',
          palavras: 'porta janela madeira alum√≠nio esquadria',
        },
        {
          codigo: '31.01-2/00',
          descricao: 'Fabrica√ß√£o de m√≥veis',
          palavras: 'm√≥vel marcenaria f√°brica mob√≠lia',
        },
        {
          codigo: '31.02-1/00',
          descricao: 'Fabrica√ß√£o de m√≥veis de metal',
          palavras: 'm√≥vel metal ferro a√ßo f√°brica',
        },
        {
          codigo: '32.11-6/01',
          descricao: 'Lapida√ß√£o de gemas',
          palavras: 'pedra preciosa lapida√ß√£o joia gema',
        },
        {
          codigo: '32.11-6/02',
          descricao: 'Fabrica√ß√£o de artefatos',
          palavras: 'joalheria ourives joia ouro prata',
        },
        {
          codigo: '32.12-4/00',
          descricao: 'Fabrica√ß√£o de bijuterias',
          palavras: 'bijuteria acess√≥rio moda fabrica√ß√£o',
        },
        {
          codigo: '32.99-0/01',
          descricao: 'Fabrica√ß√£o de guarda-chuvas',
          palavras: 'guarda-chuva sombrinha fabrica√ß√£o',
        },
        {
          codigo: '32.99-0/03',
          descricao: 'Fabrica√ß√£o de letras e placas',
          palavras: 'placa letreiro luminoso sinaliza√ß√£o',
        },
        {
          codigo: '32.99-0/04',
          descricao: 'Fabrica√ß√£o de pain√©is',
          palavras: 'painel outdoor placa publicidade',
        },
        {
          codigo: '32.99-0/05',
          descricao: 'Fabrica√ß√£o de aviamentos',
          palavras: 'aviamento z√≠per bot√£o armarinho',
        },

        // OUTROS SERVI√áOS
        {
          codigo: '77.11-0/00',
          descricao: 'Loca√ß√£o de autom√≥veis',
          palavras: 'aluguel carro autom√≥vel locadora ve√≠culo',
        },
        {
          codigo: '77.19-5/01',
          descricao: 'Loca√ß√£o de embarca√ß√µes',
          palavras: 'aluguel barco lancha jet ski n√°utica',
        },
        {
          codigo: '77.21-7/00',
          descricao: 'Aluguel de equipamentos',
          palavras: 'aluguel equipamento esporte lazer',
        },
        {
          codigo: '77.22-5/00',
          descricao: 'Aluguel de DVDs',
          palavras: 'locadora dvd filme v√≠deo aluguel',
        },
        {
          codigo: '77.23-3/00',
          descricao: 'Aluguel de objetos pessoais',
          palavras: 'aluguel objeto roupa fantasia utens√≠lio',
        },
        {
          codigo: '77.29-2/01',
          descricao: 'Aluguel de aparelhos de jogos',
          palavras: 'aluguel videogame jogo eletr√¥nico',
        },
        {
          codigo: '77.29-2/02',
          descricao: 'Aluguel de m√≥veis',
          palavras: 'aluguel m√≥vel mob√≠lia evento festa',
        },
        {
          codigo: '77.29-2/03',
          descricao: 'Aluguel de material m√©dico',
          palavras: 'aluguel equipamento m√©dico hospitalar',
        },
        {
          codigo: '77.31-4/00',
          descricao: 'Aluguel de m√°quinas agr√≠colas',
          palavras: 'aluguel m√°quina trator agr√≠cola equipamento',
        },
        {
          codigo: '77.32-2/01',
          descricao: 'Aluguel de m√°quinas para constru√ß√£o',
          palavras: 'aluguel m√°quina constru√ß√£o betoneira andaime',
        },
        {
          codigo: '77.32-2/02',
          descricao: 'Aluguel de andaimes',
          palavras: 'andaime aluguel loca√ß√£o constru√ß√£o',
        },
        {
          codigo: '77.33-1/00',
          descricao: 'Aluguel de m√°quinas de escrit√≥rio',
          palavras: 'aluguel copiadora impressora escrit√≥rio',
        },
        {
          codigo: '77.39-0/01',
          descricao: 'Aluguel de palcos',
          palavras: 'aluguel palco som ilumina√ß√£o evento',
        },
        {
          codigo: '77.39-0/02',
          descricao: 'Aluguel de equipamentos cient√≠ficos',
          palavras: 'aluguel equipamento cient√≠fico m√©dico laborat√≥rio',
        },
        {
          codigo: '77.39-0/03',
          descricao: 'Aluguel de objetos de decora√ß√£o',
          palavras: 'aluguel decora√ß√£o festa evento ornamento',
        },
        {
          codigo: '77.39-0/99',
          descricao: 'Aluguel de outras m√°quinas',
          palavras: 'aluguel m√°quina equipamento loca√ß√£o',
        },
        {
          codigo: '78.10-8/00',
          descricao: 'Sele√ß√£o de pessoal',
          palavras: 'recrutamento sele√ß√£o rh recursos humanos',
        },
        {
          codigo: '78.20-5/00',
          descricao: 'Loca√ß√£o de m√£o-de-obra',
          palavras: 'terceiriza√ß√£o m√£o obra tempor√°rio',
        },
        {
          codigo: '78.30-2/00',
          descricao: 'Fornecimento de recursos humanos',
          palavras: 'recursos humanos rh terceiriza√ß√£o pessoal',
        },
        {
          codigo: '79.11-2/00',
          descricao: 'Ag√™ncias de viagens',
          palavras: 'ag√™ncia viagem turismo pacote passagem',
        },
        {
          codigo: '79.12-1/00',
          descricao: 'Operadores tur√≠sticos',
          palavras: 'operadora turismo viagem excurs√£o pacote',
        },
        {
          codigo: '79.90-2/00',
          descricao: 'Servi√ßos de turismo',
          palavras: 'guia tur√≠stico turismo receptivo transfer',
        },
        {
          codigo: '80.11-1/01',
          descricao: 'Atividades de vigil√¢ncia',
          palavras: 'vigil√¢ncia seguran√ßa vigia guarda',
        },
        {
          codigo: '80.11-1/02',
          descricao: 'Servi√ßos de adestramento',
          palavras: 'adestramento c√£o guarda seguran√ßa treinamento',
        },
        {
          codigo: '80.12-9/00',
          descricao: 'Atividades de transporte de valores',
          palavras: 'transporte valores carro forte seguran√ßa',
        },
        {
          codigo: '80.20-0/01',
          descricao: 'Atividades de monitoramento',
          palavras: 'monitoramento alarme c√¢mera seguran√ßa',
        },
        {
          codigo: '80.20-0/02',
          descricao: 'Outras atividades de seguran√ßa',
          palavras: 'seguran√ßa eletr√¥nica sistema alarme',
        },
        {
          codigo: '80.30-7/00',
          descricao: 'Atividades de investiga√ß√£o',
          palavras: 'detetive investiga√ß√£o particular seguran√ßa',
        },
        {
          codigo: '81.11-7/00',
          descricao: 'Servi√ßos combinados de escrit√≥rio',
          palavras: 'administra√ß√£o pr√©dio condom√≠nio facility',
        },
        {
          codigo: '81.12-5/00',
          descricao: 'Condom√≠nios prediais',
          palavras: 'condom√≠nio pr√©dio administra√ß√£o s√≠ndico',
        },
        {
          codigo: '81.21-4/00',
          descricao: 'Limpeza geral de pr√©dios',
          palavras: 'limpeza faxina pr√©dio escrit√≥rio',
        },
        {
          codigo: '81.22-2/00',
          descricao: 'Limpeza especializada',
          palavras: 'limpeza industrial especializada t√©cnica',
        },
        {
          codigo: '81.29-0/00',
          descricao: 'Atividades de limpeza',
          palavras: 'limpeza higieniza√ß√£o sanitiza√ß√£o desinfec√ß√£o',
        },
        {
          codigo: '81.30-3/00',
          descricao: 'Atividades paisag√≠sticas',
          palavras: 'jardinagem paisagismo jardim manuten√ß√£o',
        },
        {
          codigo: '82.91-1/00',
          descricao: 'Atividades de cobran√ßa',
          palavras: 'cobran√ßa inadimpl√™ncia recupera√ß√£o cr√©dito',
        },
        {
          codigo: '82.92-0/00',
          descricao: 'Envasamento e empacotamento',
          palavras: 'embalagem empacotamento envase terceirizado',
        },
        {
          codigo: '82.99-7/01',
          descricao: 'Medi√ß√£o de consumo',
          palavras: 'leitura medidor √°gua luz g√°s',
        },
        {
          codigo: '82.99-7/03',
          descricao: 'Servi√ßos de grava√ß√£o',
          palavras: 'grava√ß√£o √°udio voz locu√ß√£o est√∫dio',
        },
        {
          codigo: '82.99-7/04',
          descricao: 'Leiloeiro independente',
          palavras: 'leil√£o leiloeiro arremata√ß√£o venda',
        },
        {
          codigo: '82.99-7/05',
          descricao: 'Servi√ßos de levantamento',
          palavras: 'levantamento dados pesquisa campo',
        },
        {
          codigo: '82.99-7/07',
          descricao: 'Salas de acesso √† internet',
          palavras: 'lan house cyber caf√© internet computador',
        },

        // ATIVIDADES RECREATIVAS E CULTURAIS
        {
          codigo: '90.01-9/01',
          descricao: 'Produ√ß√£o teatral',
          palavras: 'teatro pe√ßa espet√°culo produ√ß√£o cultural',
        },
        {
          codigo: '90.01-9/02',
          descricao: 'Produ√ß√£o musical',
          palavras: 'm√∫sica show concerto produ√ß√£o evento',
        },
        {
          codigo: '90.01-9/03',
          descricao: 'Produ√ß√£o de espet√°culos',
          palavras: 'dan√ßa ballet espet√°culo produ√ß√£o',
        },
        {
          codigo: '90.01-9/04',
          descricao: 'Produ√ß√£o de espet√°culos circenses',
          palavras: 'circo espet√°culo produ√ß√£o entretenimento',
        },
        {
          codigo: '90.01-9/05',
          descricao: 'Produ√ß√£o de espet√°culos de rodeio',
          palavras: 'rodeio vaquejada espet√°culo evento',
        },
        {
          codigo: '90.01-9/06',
          descricao: 'Atividades de sonoriza√ß√£o',
          palavras: 'som ilumina√ß√£o evento festa dj',
        },
        {
          codigo: '90.01-9/99',
          descricao: 'Outras atividades art√≠sticas',
          palavras: 'arte cultura espet√°culo produ√ß√£o',
        },
        {
          codigo: '90.02-7/01',
          descricao: 'Atividades de artistas',
          palavras: 'artista ator m√∫sico cantor',
        },
        {
          codigo: '90.02-7/02',
          descricao: 'Restaura√ß√£o de obras de arte',
          palavras: 'restaura√ß√£o arte obra pintura',
        },
        {
          codigo: '90.03-5/00',
          descricao: 'Gest√£o de espa√ßos',
          palavras: 'teatro audit√≥rio casa show gest√£o',
        },
        {
          codigo: '91.01-5/00',
          descricao: 'Atividades de bibliotecas',
          palavras: 'biblioteca arquivo livro acervo',
        },
        {
          codigo: '91.02-3/01',
          descricao: 'Atividades de museus',
          palavras: 'museu exposi√ß√£o galeria arte',
        },
        {
          codigo: '91.02-3/02',
          descricao: 'Restaura√ß√£o de pr√©dios hist√≥ricos',
          palavras: 'restaura√ß√£o patrim√¥nio hist√≥rico pr√©dio',
        },
        {
          codigo: '91.03-1/00',
          descricao: 'Atividades de jardins bot√¢nicos',
          palavras: 'jardim bot√¢nico zool√≥gico parque animal',
        },
        {
          codigo: '92.00-3/01',
          descricao: 'Casas de bingo',
          palavras: 'bingo jogo sorte entretenimento',
        },
        {
          codigo: '92.00-3/02',
          descricao: 'Explora√ß√£o de apostas',
          palavras: 'aposta loteria jogo sorte',
        },
        {
          codigo: '92.00-3/99',
          descricao: 'Outras atividades de jogos',
          palavras: 'jogo azar sorte entretenimento',
        },
        {
          codigo: '93.11-5/00',
          descricao: 'Gest√£o de instala√ß√µes esportivas',
          palavras: 'gin√°sio quadra campo esporte',
        },
        {
          codigo: '93.12-3/00',
          descricao: 'Clubes sociais e esportivos',
          palavras: 'clube esporte social recrea√ß√£o',
        },
        {
          codigo: '93.13-1/00',
          descricao: 'Atividades de condicionamento',
          palavras: 'academia fitness gin√°stica muscula√ß√£o',
        },
        {
          codigo: '93.19-1/01',
          descricao: 'Produ√ß√£o de eventos esportivos',
          palavras: 'evento esporte competi√ß√£o campeonato',
        },
        {
          codigo: '93.19-1/99',
          descricao: 'Outras atividades esportivas',
          palavras: 'esporte atividade f√≠sica recrea√ß√£o',
        },
        {
          codigo: '93.21-2/00',
          descricao: 'Parques de divers√£o',
          palavras: 'parque divers√£o tem√°tico entretenimento',
        },
        {
          codigo: '93.29-8/01',
          descricao: 'Discotecas e danceterias',
          palavras: 'boate discoteca balada danceteria',
        },
        {
          codigo: '93.29-8/02',
          descricao: 'Explora√ß√£o de boliches',
          palavras: 'boliche bowling entretenimento jogo',
        },
        {
          codigo: '93.29-8/03',
          descricao: 'Explora√ß√£o de jogos eletr√¥nicos',
          palavras: 'fliperama videogame arcade jogo',
        },
        {
          codigo: '93.29-8/04',
          descricao: 'Explora√ß√£o de jogos',
          palavras: 'sinuca bilhar snooker jogo',
        },
        {
          codigo: '93.29-8/99',
          descricao: 'Outras atividades de recrea√ß√£o',
          palavras: 'lazer recrea√ß√£o entretenimento divers√£o',
        },

        // ORGANIZA√á√ïES ASSOCIATIVAS
        {
          codigo: '94.11-1/00',
          descricao: 'Atividades de organiza√ß√µes',
          palavras: 'associa√ß√£o empresarial patronal comercial',
        },
        {
          codigo: '94.12-0/00',
          descricao: 'Atividades de organiza√ß√µes profissionais',
          palavras: 'conselho ordem profissional sindicato',
        },
        {
          codigo: '94.20-1/00',
          descricao: 'Atividades de sindicatos',
          palavras: 'sindicato trabalhador categoria profissional',
        },
        {
          codigo: '94.30-8/00',
          descricao: 'Atividades de associa√ß√µes',
          palavras: 'associa√ß√£o defesa direito social',
        },
        {
          codigo: '94.91-0/00',
          descricao: 'Atividades de organiza√ß√µes religiosas',
          palavras: 'igreja templo religi√£o culto',
        },
        {
          codigo: '94.92-8/00',
          descricao: 'Atividades de organiza√ß√µes pol√≠ticas',
          palavras: 'partido pol√≠tico campanha elei√ß√£o',
        },
        {
          codigo: '94.93-6/00',
          descricao: 'Atividades de organiza√ß√µes',
          palavras: 'ong organiza√ß√£o social assist√™ncia',
        },
        {
          codigo: '94.99-5/00',
          descricao: 'Outras atividades associativas',
          palavras: 'associa√ß√£o clube organiza√ß√£o social',
        },
      ];

      // Contador de CNAEs secund√°rios
      let contadorCnaesSecundarios = 0;

      // Fun√ß√£o para mostrar aba
      function showTab(tabId) {
        // Remove active de todas as abas
        document.querySelectorAll('.tab-content').forEach((tab) => {
          tab.classList.remove('active');
        });
        document.querySelectorAll('.tab-btn').forEach((btn) => {
          btn.classList.remove('active');
        });

        // Adiciona active na aba selecionada
        document.getElementById(tabId).classList.add('active');
        event.target.classList.add('active');

        // Se for a aba de custos, calcular
        if (tabId === 'custos') {
          calcularCustos();
        }
      }

      // Fun√ß√£o para buscar CNAEs
      function buscarCNAE(tipo) {
        const input =
          tipo === 'principal'
            ? document.getElementById('buscaCnaePrincipal')
            : document.getElementById(`buscaCnaeSecundario${tipo}`);

        const sugestoesDiv =
          tipo === 'principal'
            ? document.getElementById('sugestoesPrincipal')
            : document.getElementById(`sugestoesSecundario${tipo}`);

        const busca = input.value.toLowerCase();

        if (busca.length < 2) {
          sugestoesDiv.classList.remove('active');
          return;
        }

        const resultados = cnaes
          .filter(
            (cnae) =>
              cnae.descricao.toLowerCase().includes(busca) ||
              cnae.palavras.toLowerCase().includes(busca) ||
              cnae.codigo.includes(busca)
          )
          .slice(0, 10);

        if (resultados.length > 0) {
          sugestoesDiv.innerHTML = resultados
            .map(
              (cnae) => `
                    <div class="cnae-item" onclick="selecionarCNAE('${tipo}', '${cnae.codigo}', '${cnae.descricao}')">
                        <span class="cnae-codigo">${cnae.codigo}</span>
                        <span>${cnae.descricao}</span>
                    </div>
                `
            )
            .join('');
          sugestoesDiv.classList.add('active');
        } else {
          sugestoesDiv.innerHTML =
            '<div class="cnae-item">Nenhum CNAE encontrado</div>';
          sugestoesDiv.classList.add('active');
        }
      }

      // Fun√ß√£o para selecionar CNAE
      function selecionarCNAE(tipo, codigo, descricao) {
        if (tipo === 'principal') {
          estado.cnaePrincipal = { codigo, descricao };
          document.getElementById('cnaePrincipalSelecionado').innerHTML = `
                    <div class="cnae-selected">
                        <strong>${codigo}</strong> - ${descricao}
                        <button class="btn btn-danger" style="float: right;" onclick="removerCNAE('principal')">Remover</button>
                    </div>
                `;
          document.getElementById('buscaCnaePrincipal').value = '';
          document
            .getElementById('sugestoesPrincipal')
            .classList.remove('active');
        } else {
          const index = parseInt(tipo);
          if (!estado.cnaesSecundarios[index]) {
            estado.cnaesSecundarios[index] = {};
          }
          estado.cnaesSecundarios[index] = { codigo, descricao };

          document.getElementById(
            `cnaeSecundarioSelecionado${tipo}`
          ).innerHTML = `
                    <div class="cnae-selected">
                        <strong>${codigo}</strong> - ${descricao}
                    </div>
                `;
          document.getElementById(`buscaCnaeSecundario${tipo}`).value = '';
          document
            .getElementById(`sugestoesSecundario${tipo}`)
            .classList.remove('active');
        }
      }

      // Fun√ß√£o para remover CNAE
      function removerCNAE(tipo) {
        if (tipo === 'principal') {
          estado.cnaePrincipal = null;
          document.getElementById('cnaePrincipalSelecionado').innerHTML = '';
        }
      }

      // Fun√ß√£o para adicionar CNAE secund√°rio
      function adicionarCNAESecundario() {
        if (contadorCnaesSecundarios >= 4) {
          alert('M√°ximo de 4 CNAEs secund√°rios permitidos');
          return;
        }

        const container = document.getElementById('cnaesSecundarios');
        const index = contadorCnaesSecundarios;

        const div = document.createElement('div');
        div.className = 'card';
        div.id = `cnaeSecundarioContainer${index}`;
        div.innerHTML = `
                <div class="card-header">
                    <span class="card-title">CNAE Secund√°rio ${index + 1}</span>
                    <button class="btn btn-danger" onclick="removerCNAESecundario(${index})">Remover</button>
                </div>
                <div class="cnae-search-container">
                    <input type="text" id="buscaCnaeSecundario${index}" class="form-control" 
                           placeholder="Digite palavras-chave"
                           onkeyup="buscarCNAE(${index})">
                    <div id="sugestoesSecundario${index}" class="cnae-suggestions"></div>
                </div>
                <div id="cnaeSecundarioSelecionado${index}"></div>
            `;

        container.appendChild(div);
        contadorCnaesSecundarios++;
      }

      // Fun√ß√£o para remover CNAE secund√°rio
      function removerCNAESecundario(index) {
        const container = document.getElementById(
          `cnaeSecundarioContainer${index}`
        );
        container.remove();
        estado.cnaesSecundarios.splice(index, 1);
        contadorCnaesSecundarios--;

        // Reordenar os √≠ndices
        const containers = document.getElementById('cnaesSecundarios').children;
        for (let i = 0; i < containers.length; i++) {
          containers[i].id = `cnaeSecundarioContainer${i}`;
          containers[i].querySelector(
            '.card-title'
          ).textContent = `CNAE Secund√°rio ${i + 1}`;
        }
      }

      // Fun√ß√£o para sugerir CNAEs baseado no ramo
      function sugerirCNAEs() {
        const ramo = document.getElementById('ramoAtividade').value;
        if (!ramo) return;

        // Mapeamento de ramos para CNAEs sugeridos
        const sugestoes = {
          alimentacao: ['56.11-2/01', '56.11-2/03', '56.20-1/01', '10.91-1/02'],
          comercio: ['47.12-1/00', '47.81-4/00', '47.61-0/03', '47.89-0/99'],
          servicos: ['82.99-7/99', '82.11-3/00', '96.09-2/99', '74.90-1/99'],
          tecnologia: ['62.01-5/01', '62.04-0/00', '95.11-8/00', '63.19-4/00'],
          saude: ['86.30-5/03', '86.50-0/04', '96.02-5/02', '86.90-9/99'],
          educacao: ['85.99-6/99', '85.93-7/00', '85.91-1/00', '85.99-6/03'],
          construcao: ['41.20-4/00', '43.30-4/04', '43.21-5/00', '43.99-1/03'],
          transporte: ['49.30-2/01', '49.23-0/02', '53.20-2/01', '52.29-0/01'],
          consultoria: ['70.20-4/00', '69.20-6/02', '74.90-1/99', '62.04-0/00'],
          imobiliario: ['68.21-8/01', '68.22-6/00', '68.10-2/02', '41.10-7/00'],
        };

        const cnaesSugeridos = sugestoes[ramo] || [];
        if (cnaesSugeridos.length > 0 && !estado.cnaePrincipal) {
          const primeiroCnae = cnaes.find(
            (c) => c.codigo === cnaesSugeridos[0]
          );
          if (primeiroCnae) {
            selecionarCNAE(
              'principal',
              primeiroCnae.codigo,
              primeiroCnae.descricao
            );
          }
        }
      }

      // Fun√ß√£o para gerar campos de funcion√°rios
      function gerarCamposFuncionarios() {
        const qtd =
          parseInt(document.getElementById('qtdFuncionarios').value) || 0;
        const container = document.getElementById('listaFuncionarios');

        if (qtd === 0) {
          container.innerHTML =
            '<div class="alert alert-info">Nenhum funcion√°rio ser√° contratado inicialmente.</div>';
          estado.funcionarios = [];
          return;
        }

        let html = '';
        for (let i = 0; i < qtd; i++) {
          html += `
                    <div class="funcionario-card">
                        <h4>Funcion√°rio ${i + 1}</h4>
                        <div class="grid grid-3">
                            <div class="form-group">
                                <label>Cargo</label>
                                <input type="text" id="cargo${i}" class="form-control" placeholder="Ex: Vendedor">
                            </div>
                            <div class="form-group">
                                <label>Sal√°rio (R$)</label>
                                <input type="number" id="salario${i}" class="form-control" placeholder="2000" value="1412">
                            </div>
                            <div class="form-group">
                                <label>Tipo</label>
                                <select id="tipo${i}" class="form-control">
                                    <option value="clt">CLT</option>
                                    <option value="pj">PJ</option>
                                    <option value="autonomo">Aut√¥nomo</option>
                                </select>
                            </div>
                        </div>
                    </div>
                `;
        }

        container.innerHTML = html;

        // Atualizar estado
        estado.funcionarios = [];
        for (let i = 0; i < qtd; i++) {
          estado.funcionarios.push({
            cargo: '',
            salario: 1518,
            tipo: 'clt',
          });
        }
      }

      // Fun√ß√£o para calcular custos
      function calcularCustos() {
        const cidade = document.getElementById('cidade').value;

        // Custos por cidade
        const custosPorCidade = {
          sp: {
            junta: 800,
            alvara: 1500,
            certificado: 450,
            contador: 2000,
            aluguel: 3500,
            utilidades: 800,
          },
          rj: {
            junta: 750,
            alvara: 1400,
            certificado: 450,
            contador: 1800,
            aluguel: 3000,
            utilidades: 750,
          },
          mg: {
            junta: 600,
            alvara: 1000,
            certificado: 400,
            contador: 1500,
            aluguel: 2000,
            utilidades: 600,
          },
          df: {
            junta: 700,
            alvara: 1200,
            certificado: 450,
            contador: 1700,
            aluguel: 2800,
            utilidades: 700,
          },
          pr: {
            junta: 550,
            alvara: 900,
            certificado: 400,
            contador: 1400,
            aluguel: 1800,
            utilidades: 550,
          },
          rs: {
            junta: 600,
            alvara: 950,
            certificado: 400,
            contador: 1450,
            aluguel: 1900,
            utilidades: 580,
          },
          ba: {
            junta: 500,
            alvara: 800,
            certificado: 350,
            contador: 1200,
            aluguel: 1500,
            utilidades: 500,
          },
          ce: {
            junta: 450,
            alvara: 750,
            certificado: 350,
            contador: 1100,
            aluguel: 1400,
            utilidades: 480,
          },
          pe: {
            junta: 480,
            alvara: 780,
            certificado: 350,
            contador: 1150,
            aluguel: 1450,
            utilidades: 490,
          },
          am: {
            junta: 520,
            alvara: 850,
            certificado: 380,
            contador: 1300,
            aluguel: 1600,
            utilidades: 520,
          },
          go: {
            junta: 460,
            alvara: 720,
            certificado: 350,
            contador: 1050,
            aluguel: 1350,
            utilidades: 470,
          },
          sc: {
            junta: 580,
            alvara: 920,
            certificado: 400,
            contador: 1380,
            aluguel: 1750,
            utilidades: 560,
          },
        };

        const custos = custosPorCidade[cidade] || {
          junta: 500,
          alvara: 800,
          certificado: 400,
          contador: 1200,
          aluguel: 1500,
          utilidades: 500,
        };

        // Atualizar custos de abertura
        document.getElementById(
          'custoJunta'
        ).textContent = `R$ ${custos.junta.toFixed(2)}`;
        document.getElementById(
          'custoAlvara'
        ).textContent = `R$ ${custos.alvara.toFixed(2)}`;
        document.getElementById(
          'custoCertificado'
        ).textContent = `R$ ${custos.certificado.toFixed(2)}`;
        document.getElementById(
          'custoContador'
        ).textContent = `R$ ${custos.contador.toFixed(2)}`;

        const totalAbertura =
          custos.junta + custos.alvara + custos.certificado + custos.contador;
        document.getElementById(
          'totalAbertura'
        ).textContent = `R$ ${totalAbertura.toFixed(2)}`;

        // Calcular folha de pagamento
        let folhaTotal = 0;
        const qtdFunc =
          parseInt(document.getElementById('qtdFuncionarios').value) || 0;

        for (let i = 0; i < qtdFunc; i++) {
          const salario =
            parseFloat(document.getElementById(`salario${i}`)?.value) || 1412;
          const tipo = document.getElementById(`tipo${i}`)?.value || 'clt';

          if (tipo === 'clt') {
            // CLT com encargos (INSS, FGTS, 13¬∫, F√©rias)
            folhaTotal += salario * 1.8;
          } else if (tipo === 'pj') {
            folhaTotal += salario * 1.1;
          } else {
            folhaTotal += salario;
          }
        }

        document.getElementById(
          'custoFolha'
        ).textContent = `R$ ${folhaTotal.toFixed(2)}`;

        // Custos operacionais
        document.getElementById(
          'custoAluguel'
        ).textContent = `R$ ${custos.aluguel.toFixed(2)}`;
        document.getElementById(
          'custoUtilidades'
        ).textContent = `R$ ${custos.utilidades.toFixed(2)}`;
        document.getElementById('custoContadorMensal').textContent = `R$ ${(
          custos.contador * 0.4
        ).toFixed(2)}`;

        const totalMensal =
          folhaTotal +
          custos.aluguel +
          custos.utilidades +
          custos.contador * 0.4;
        document.getElementById(
          'totalMensal'
        ).textContent = `R$ ${totalMensal.toFixed(2)}`;

        // Salvar no estado
        estado.custos = {
          abertura: totalAbertura,
          mensal: totalMensal,
          folha: folhaTotal,
          detalhes: custos,
        };
      }

      // Fun√ß√£o para calcular resultados finais
      function calcularResultados() {
        calcularCustos();

        const capitalInicial =
          parseFloat(document.getElementById('capitalInicial').value) || 0;
        const custoAbertura = estado.custos.abertura || 0;
        const custoMensal = estado.custos.mensal || 0;

        // Investimento total (abertura + 3 meses de opera√ß√£o)
        const investimentoTotal = custoAbertura + custoMensal * 3;

        document.getElementById(
          'investimentoTotal'
        ).textContent = `R$ ${investimentoTotal.toFixed(2)}`;

        // Status do capital
        const statusDiv = document.getElementById('statusCapital');
        if (capitalInicial >= investimentoTotal) {
          statusDiv.innerHTML = `‚úÖ Capital suficiente! Sobra: R$ ${(
            capitalInicial - investimentoTotal
          ).toFixed(2)}`;
          statusDiv.style.color = 'green';
        } else {
          statusDiv.innerHTML = `‚ùå Capital insuficiente! Falta: R$ ${(
            investimentoTotal - capitalInicial
          ).toFixed(2)}`;
          statusDiv.style.color = 'red';
        }

        // An√°lise de viabilidade
        const analiseDiv = document.getElementById('analiseViabilidade');
        const viavel = capitalInicial >= investimentoTotal;

        analiseDiv.innerHTML = `
                <div class="alert ${
                  viavel ? 'alert-success' : 'alert-warning'
                }">
                    <h4>An√°lise de Viabilidade</h4>
                    <p><strong>Status:</strong> ${
                      viavel ? '‚úÖ Vi√°vel' : '‚ö†Ô∏è Necessita mais capital'
                    }</p>
                    <p><strong>Capital Inicial:</strong> R$ ${capitalInicial.toFixed(
                      2
                    )}</p>
                    <p><strong>Investimento Necess√°rio:</strong> R$ ${investimentoTotal.toFixed(
                      2
                    )}</p>
                    <p><strong>Custos Mensais:</strong> R$ ${custoMensal.toFixed(
                      2
                    )}</p>
                    <p><strong>Ponto de Equil√≠brio:</strong> Aproximadamente ${Math.ceil(
                      investimentoTotal / (custoMensal * 0.3)
                    )} meses</p>
                </div>
            `;

        // Gerar gr√°ficos
        gerarGraficos();

        showTab('resultado');
      }

      // Fun√ß√£o para gerar gr√°ficos
      function gerarGraficos() {
        // Gr√°fico de custos
        const ctxCustos = document
          .getElementById('chartCustos')
          .getContext('2d');

        // Destruir gr√°fico anterior se existir
        if (estado.graficos.custos) {
          estado.graficos.custos.destroy();
        }

        estado.graficos.custos = new Chart(ctxCustos, {
          type: 'pie',
          data: {
            labels: [
              'Documenta√ß√£o',
              'Funcion√°rios',
              'Aluguel',
              'Utilidades',
              'Contador',
            ],
            datasets: [
              {
                data: [
                  estado.custos.abertura,
                  estado.custos.folha,
                  estado.custos.detalhes.aluguel,
                  estado.custos.detalhes.utilidades,
                  estado.custos.detalhes.contador * 0.4,
                ],
                backgroundColor: [
                  '#667eea',
                  '#764ba2',
                  '#f093fb',
                  '#4facfe',
                  '#43e97b',
                ],
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              title: {
                display: true,
                text: 'Distribui√ß√£o de Custos',
              },
            },
          },
        });

        // Gr√°fico de proje√ß√£o
        const ctxProjecao = document
          .getElementById('chartProjecao')
          .getContext('2d');

        if (estado.graficos.projecao) {
          estado.graficos.projecao.destroy();
        }

        const meses = ['M√™s 1', 'M√™s 2', 'M√™s 3', 'M√™s 4', 'M√™s 5', 'M√™s 6'];
        const custoAcumulado = [];
        let acumulado = estado.custos.abertura;

        for (let i = 0; i < 6; i++) {
          acumulado += estado.custos.mensal;
          custoAcumulado.push(acumulado);
        }

        estado.graficos.projecao = new Chart(ctxProjecao, {
          type: 'line',
          data: {
            labels: meses,
            datasets: [
              {
                label: 'Custo Acumulado',
                data: custoAcumulado,
                borderColor: '#667eea',
                backgroundColor: 'rgba(102, 126, 234, 0.1)',
                tension: 0.1,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              title: {
                display: true,
                text: 'Proje√ß√£o de Custos (6 meses)',
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                ticks: {
                  callback: function (value) {
                    return 'R$ ' + value.toFixed(0);
                  },
                },
              },
            },
          },
        });
      }

      // Fun√ß√£o para gerar resumo completo
      function gerarResumo() {
        const empresa = {
          nome: document.getElementById('nomeEmpresa').value,
          email: document.getElementById('emailContato').value,
          cidade:
            document.getElementById('cidade').options[
              document.getElementById('cidade').selectedIndex
            ]?.text,
          capital: document.getElementById('capitalInicial').value,
          socios: document.getElementById('numeroSocios').value,
          funcionarios: document.getElementById('qtdFuncionarios').value,
        };

        let resumo = `
                <h4>Dados da Empresa</h4>
                <p><strong>Nome:</strong> ${empresa.nome || 'N√£o informado'}</p>
                <p><strong>Email:</strong> ${
                  empresa.email || 'N√£o informado'
                }</p>
                <p><strong>Cidade:</strong> ${
                  empresa.cidade || 'N√£o informada'
                }</p>
                <p><strong>Capital Inicial:</strong> R$ ${
                  empresa.capital || '0'
                }</p>
                <p><strong>N√∫mero de S√≥cios:</strong> ${empresa.socios}</p>
                <p><strong>N√∫mero de Funcion√°rios:</strong> ${
                  empresa.funcionarios
                }</p>
                
                <h4>CNAEs</h4>
                <p><strong>Principal:</strong> ${
                  estado.cnaePrincipal
                    ? `${estado.cnaePrincipal.codigo} - ${estado.cnaePrincipal.descricao}`
                    : 'N√£o selecionado'
                }</p>
            `;

        if (estado.cnaesSecundarios.length > 0) {
          resumo += '<p><strong>Secund√°rios:</strong></p><ul>';
          estado.cnaesSecundarios.forEach((cnae) => {
            if (cnae.codigo) {
              resumo += `<li>${cnae.codigo} - ${cnae.descricao}</li>`;
            }
          });
          resumo += '</ul>';
        }

        resumo += `
                <h4>Custos</h4>
                <p><strong>Custos de Abertura:</strong> R$ ${
                  estado.custos.abertura?.toFixed(2) || '0.00'
                }</p>
                <p><strong>Custos Mensais:</strong> R$ ${
                  estado.custos.mensal?.toFixed(2) || '0.00'
                }</p>
                <p><strong>Investimento Total (3 meses):</strong> R$ ${(
                  (estado.custos.abertura || 0) +
                  (estado.custos.mensal || 0) * 3
                ).toFixed(2)}</p>
            `;

        document.getElementById('resumoCompleto').innerHTML = resumo;
      }

      // Fun√ß√£o para enviar relat√≥rio por email
      function enviarRelatorio() {
        const email =
          document.getElementById('emailRelatorio').value ||
          document.getElementById('emailContato').value;

        if (!email) {
          alert('Por favor, informe um email v√°lido');
          return;
        }

        // Gerar resumo
        gerarResumo();

        // Preparar dados do email
        const templateParams = {
          to_email: email,
          empresa_nome:
            document.getElementById('nomeEmpresa').value || 'Empresa',
          resumo: document
            .getElementById('resumoCompleto')
            .innerHTML.replace(/<[^>]*>/g, ' template_ib4ousd'),
        };

        // Mostrar loading
        document.getElementById('statusEnvio').innerHTML =
          '<div class="loading active"><div class="spinner"></div><p>Enviando relat√≥rio...</p></div>';

        // Simular envio (substitua com EmailJS real)
        setTimeout(() => {
          document.getElementById('statusEnvio').innerHTML = `
                    <div class="alert alert-success">
                        ‚úÖ Relat√≥rio enviado com sucesso para ${email}!
                    </div>
                `;
        }, 2000);

        // Para usar EmailJS de verdade:
        emailjs
          .send('service_poab97r','template_ib4ousd', templateParams)
          .then(
            function (response) {
              document.getElementById('statusEnvio').innerHTML = `
                        <div class="alert alert-success">
                            ‚úÖ Relat√≥rio enviado com sucesso para ${email}!
                        </div>
                    `;
            },
            function (error) {
              document.getElementById('statusEnvio').innerHTML = `
                        <div class="alert alert-danger">
                            ‚ùå Erro ao enviar: ${error.text}
                        </div>
                    `;
            }
          );
      }

      // Inicializa√ß√£o
      document.addEventListener('DOMContentLoaded', function () {
        // Gerar resumo ao carregar a p√°gina de relat√≥rio
        const tabRelatorio = document.getElementById('relatorio');
        const observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            if (mutation.target.classList.contains('active')) {
              gerarResumo();
            }
          });
        });

        observer.observe(tabRelatorio, {
          attributes: true,
          attributeFilter: ['class'],
        });
      });

      // Prevenir zoom no iOS ao focar em inputs
      document.addEventListener('touchstart', function (event) {
        if (event.touches.length > 1) {
          event.preventDefault();
        }
      });
    </script>
  </body>
</html>
